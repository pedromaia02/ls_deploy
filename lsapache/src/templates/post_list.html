{% extends "base.html" %}

{% block content %}
{% load render_table from django_tables2 %}

<hr>
<h1>Controle Financeiro - LS Projetos</h1>
<hr>

<ul class="pagination pagination-sm">
<li class="active"><a href='{% url "posts:list" %}'>Início</a></li>
<li><a href='{% url "posts:create" %}'>Adicionar dados</a></li>
<li><a href='{% url "posts:dre" %}'>DRE</a></li>
<li><a href="#">Detalhes</a></li>
</ul>

<hr>
<h4>Filtragem dados:</h4>
<br>
<form method="GET" action="">

<label for="data">Mês: </label>
<select name="mes" id="mes">
  <!-- <option selected disabled>Choose here</option> -->
  <option value="todos">Todos</option>
  <option value="1">Janeiro</option>
  <option value="2">Fevereiro</option>
  <option value="3">Março</option>
  <option value="4">Abril</option>
  <option value="5">Maio</option>
  <option value="6">Junho</option>
  <option value="7">Julho</option>
  <option value="8">Agosto</option>
  <option value="9">Setembro</option>
  <option value="10">Outubro</option>
  <option value="11">Novembro</option>
  <option value="12">Dezembro</option>
</select>

<label for="ano">Ano: </label>
<select name="ano" id="ano">
  <!-- <option selected disabled>Choose here</option> -->
  <option value="todos">Todos</option>
  <option value="2015">2015</option>
  <option value="2016">2016</option>
  <option value="2017">2017</option>
  <option value="2018">2018</option>
  <option value="2019">2019</option>
</select>

<label for="contrato">Contrato: </label>
<select name="contrato" id="contrato">
  <option value="">Todos</option>
  {% for nome in nome_contratos %}
  <option value={{nome}}>{{nome}}</option>
  {% endfor %}
  <!-- <option value="TRT">TRT</option>
  <option value="FORTALEZA">FORTALEZA</option>
  <option value="SOBRAL">SOBRAL</option>
  <option value="JUAZEIRO">JUAZEIRO</option>
  <option value="INSS-NATAL">INSS-NATAL</option>
  <option value="PETROLINA">PETROLINA</option>
  <option value="IMPERATRIZ">IMPERATRIZ</option> -->
</select>

<label for="servico">Serviço: </label>
<select name="servico" id="servico">
  <option value="">Todos</option>
  {% for nome in nome_legendas %}
  <option value={{nome}}>{{nome}}</option>
  {% endfor %}
  <!-- <option value="MATERIAIS DE OBRA">MATERIAIS DE OBRA</option>
  <option value="COMBUSTIVEL">COMBUSTIVEL</option>
  <option value="DESPESAS VIAGEM">DESPESAS VIAGEM</option>
  <option value="MANUTENCAO VEICULOS">MANUTENCAO VEICULOS</option>
  <option value="MATERIAIS CONSUMO">MATERIAIS CONSUMO</option>
  <option value="DESPESAS OPERACIONAIS">DESPESAS OPERACIONAIS</option>
  <option value="FOLHA DE PAGAMENTO">FOLHA DE PAGAMENTO</option>
  <option value="UNIFORMES, FERAMENTAS, EPI">UNIFORMES, FERAMENTAS, EPI</option> -->
</select>

<label for="tipo">Tipo: </label>
<select name="tipo" id="tipo">
  <option value="">Todos</option>
  <option value="SAIDA">SAIDA</option>
  <option value="ENTRADA">ENTRADA</option>
</select>

  <input type="submit" value="Buscar">
</form>
<br>
<form method="GET" action="">
  <input type="text" name="detalhe" placeholder="Pesquisar pela descrição" value="{{request.GET.detalhe}}">
<input type="submit" value="Pesquisar">
<hr>
<br>


<h2>{{title}}</h2>
<table class="table table-sm">
  <tr>
    <th>TOTAL:</th>
    <td>{{ valor_total }}</td>
  </tr>
</table>

{% render_table table %}

<!-- <br><br><br>

</style>
<div class="container">
  <div class="row col-md-9">
    <table class="table">
      <tr>
        <th class="small">TOTAL DE SAÍDA:</th>
        <td class="small">200</td>
      </tr>
      <tr>
        <th class="small">TOTAL DE ENTRADA:</th>
        <td class="small">300</td>
      </tr>
      <tr>
        <th class="small">BALANÇO:</th>
        <td class="small">100</td>
      </tr>
    </table>
  </div>
</div> -->


<!-- <script type="text/javascript">

  // Load the Visualization API and the corechart package.
  google.charts.load('current', {'packages':['corechart']});

  // Set a callback to run when the Google Visualization API is loaded.
  google.charts.setOnLoadCallback(drawChart);

  // Callback that creates and populates a data table,
  // instantiates the pie chart, passes in the data and
  // draws it.
  function drawChart() {

    // Create the data table.
    var data = new google.visualization.DataTable();
    data.addColumn('string', 'Topping');
    data.addColumn('number', 'Slices');
    data.addRows([
      ['Mushrooms', 3],
      ['Onions', 1],
      ['Olives', 1],
      ['Zucchini', 1],
      ['Pepperoni', 2]
    ]);

    // Set chart options
    var options = {'title':'How Much Pizza I Ate Last Night',
                   'width':400,
                   'height':300};

    // Instantiate and draw our chart, passing in some options.
    var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
    chart.draw(data, options);
  }
</script>



<div id="chart_div"></div> -->


{% endblock content %}
